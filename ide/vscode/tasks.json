{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Workspace",
            "type": "shell",
   
            "command": "echo ${workspaceFolder}",
       
            "problemMatcher": []
        },
        {
            "label": "CLEAN",
            "type": "shell",
            "windows": {
                "command": "python skyward-boardcore/sbs -n -c"
            },
            "linux": {
                "command": "./sbs -c"
            },
            "problemMatcher": "$gcc"
        },
        {
            "label": "BUILD all",
            "type": "shell",
            "windows": {
                "command": "python skyward-boardcore/sbs -n"
            },
            "linux": {
                "command": "./sbs"
            },
            "problemMatcher": "$gcc"
        },
        {
            "label": "BUILD current-entrypoint",
            "type": "shell",
            "windows": {
                "command": "python skyward-boardcore/sbs -v -n -b ${fileBasenameNoExtension}"
            },
            "linux": {
                "command": "./sbs -v -b ${fileBasenameNoExtension}"
            },
            "problemMatcher": "$gcc"
        },
        {
            "label": "RUN current-entrypoint",
            "type": "shell",
            "windows": {
                "command": "ST-LINK_CLI.exe -P bin/${fileBasenameNoExtension}/${fileBasenameNoExtension}.bin 0x8000000 -V"
            },
            "linux": {
                "command": "st-flash write bin/${fileBasenameNoExtension}/${fileBasenameNoExtension}.bin 0x8000000"
            },
            "problemMatcher": []
        },
        {
            "label": "BUILD+RUN current-entrypoint",
            "type": "shell",
            "windows": {
                "command": "ST-LINK_CLI.exe -P bin/${fileBasenameNoExtension}/${fileBasenameNoExtension}.bin 0x8000000 -V -Rst"
            },
            "linux": {
                "command": "sleep 1;st-flash write bin/${fileBasenameNoExtension}/${fileBasenameNoExtension}.bin 0x8000000"
            },
            "problemMatcher": [],
            "dependsOn": [
                "BUILD current-entrypoint"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "BUILD tests-stm32f429zi-discovery",
            "type": "shell",
            "windows": {
                "command": "python skyward-boardcore/sbs -v -n -b tests-stm32f429zi-discovery"
            },
            "linux": {
                "command": "./sbs -v -b tests-stm32f429zi-discovery"
            },
            "problemMatcher": "$gcc"
        },
        {
            "label": "RUN tests-stm32f429zi-discovery",
            "type": "shell",
            "windows": {
                "command": "ST-LINK_CLI.exe -P bin/tests-stm32f429zi-discovery/tests-stm32f429zi-discovery.bin 0x8000000 -V"
            },
            "linux": {
                "command": "st-flash write bin/tests-stm32f429zi-discovery/tests-stm32f429zi-discovery.bin 0x8000000"
            },
            "problemMatcher": []
        },
        {
            "label": "BUILD tests-catch",
            "type": "shell",
            "windows": {
                "command": "python skyward-boardcore/sbs -v -n -b tests-catch"
            },
            "linux": {
                "command": "./sbs -v -b tests-catch"
            },
            "problemMatcher": "$gcc"
        },
        {
            "label": "RUN tests-catch",
            "type": "shell",
            "windows": {
                "command": "ST-LINK_CLI.exe -P bin/tests-catch/tests-catch.bin 0x8000000 -V"
            },
            "linux": {
                "command": "st-flash write bin/tests-catch/tests-catch.bin 0x8000000"
            },
            "problemMatcher": []
        }
    ]
}