# Skyward Build System Configuration File
#
# Copyright (c) 2015-2019 Skyward Experimental Rocketry
# Authors: Alain Carlucci, Alvise de' Faveri Tron
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
# THE SOFTWARE.
#
# Here's a list of available BoardIds:
#lpc2138_miosix_board
#stm32f103ze_stm3210e-eval
#stm32f103ve_mp3v2
#stm32f100rb_stm32vldiscovery
#stm32f103ve_strive_mini
#stm32f103ze_redbull_v2
#stm32f407vg_stm32f4discovery
#stm32f207ig_stm3220g-eval
#stm32f207zg_ethboard_v2
#stm32f207ze_als_camboard
#stm32l151_als_mainboard
#stm32f407vg_bitsboard
#stm32f205rg_sony-newman
#stm32f429zi_stm32f4discovery
#stm32f103cb_als_mainboard_rev2
#stm32f100cb_tempsensor
#stm32f429zi_oledboard2
#efm32gg332f1024_wandstem
#stm32f411re_nucleo
#stm32f429zi_skyward_anakin
#stm32f100rc_solertegiard
#stm32f205rc_skyward_stormtrooper
#stm32f401vc_stm32f4discovery
#stm32f103c8_breakout
#stm32f100c8_microboard
#stm32f469ni_stm32f469i-disco
#stm32f429zi_skyward_death_stack
#stm32f429zi_skyward_death_stack_x
#stm32f401re_nucleo
#stm32f103c8_skyward_aldeeran


# Syntax of this file:
# SBS_PROJECT: project settings
# srcfiles:    groups of sources to be compiled together
# boards:      main files, located in ENTRY_PATH
# tests:       test files, located in TESTS_PATH

#-----------------------------------#
#            SBS Project            #
#-----------------------------------#
# ENTRY_PATH:       entrypoints folder realative path
# TESTS_PATH:       tests folder realative path
# SRC_PATH:         shared sources folder realative path
# SBS_BASE:         boardcore folder relative path
# PROJECT_INCLUDES: Optional additional include directories, preceeded by -I (eg: -Ilibs/mxgui)
# PROJECT_SUBDIRS:  Optional subfolders which contains additional makefiles (eg: libs/mxgui)
# PROJECT_LIBS:     Optional static libraries. (eg: libs/mxgui/mxgui.a)

[SBS_PROJECT]
Type:             project
ENTRY_PATH:       src/entrypoints
TESTS_PATH:       src/tests
SRC_PATH:         src
SBS_BASE:         skyward-boardcore
PROJECT_INCLUDES: -Isrc/boards
                  -Isrc/boards/DeathStack
                  -Iskyward-boardcore/src/shared
                  -Iskyward-boardcore
                  -Iskyward-boardcore/src/shared
                  -Iskyward-boardcore/libs/mavlink_skyward_lib
                  -Iskyward-boardcore/libs/eigen
PROJECT_SUBDIRS:
PROJECT_LIBS:

#-----------------------------------#
#          List of Sources          #
#-----------------------------------#
# [name]    -> can be included by boards and tests using '%name'
#     Type: srcfiles
#     Files: a '\n'-separated list of f

[deathstack-new]
Type:       srcfiles
Files:      src/boards/DeathStack/events/EventStrings.cpp
            src/boards/DeathStack/PinHandler/PinHandler.cpp
            src/boards/DeathStack/Radio/TMTCManager.cpp
            src/boards/DeathStack/Radio/TCHandler.cpp
            src/boards/DeathStack/Radio/TmRepository.cpp
            src/boards/DeathStack/Main/Actuators.cpp
            src/boards/DeathStack/Main/Radio.cpp
            src/boards/DeathStack/Main/Sensors.cpp
            src/boards/DeathStack/Main/StateMachines.cpp
            src/boards/DeathStack/DeploymentController/DeploymentController.cpp
            src/boards/DeathStack/FlightModeManager/FlightModeManager.cpp
            src/boards/DeathStack/ADA/ADACalibrator.cpp
            src/boards/DeathStack/ADA/ADA.cpp
            src/boards/DeathStack/NavigationSystem/NASCalibrator.cpp
            src/boards/DeathStack/NavigationSystem/ExtendedKalmanEigen.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/elevation_map.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/generated/elevation_map_data.cpp
            
[deathstack]
Type:       srcfiles
Files:      src/boards/DeathStack/LoggerService/LoggerService.cpp
            src/boards/DeathStack/events/EventStrings.cpp
            src/boards/DeathStack/FlightModeManager/FlightModeManager.cpp
            src/boards/DeathStack/SensorManager/SensorManager.cpp
            src/boards/DeathStack/DeploymentController/DeploymentController.cpp
            src/boards/DeathStack/PinHandler/PinHandler.cpp
            src/boards/DeathStack/TMTCManager/TMTCManager.cpp
            src/boards/DeathStack/LoggerService/TmRepository.cpp
            src/boards/DeathStack/ADA/ADA.cpp
            src/boards/DeathStack/ADA/ADACalibrator.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/generated/elevation_map_data.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/elevation_map.cpp
            src/boards/DeathStack/LoggerService/FlightStatsRecorder.cpp
            src/boards/DeathStack/TMTCManager/XbeeInterrupt.cpp


[ada]
Type:       srcfiles
Files:      src/boards/DeathStack/ADA/ADA.cpp
            src/boards/DeathStack/ADA/ADACalibrator.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/elevation_map.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/generated/elevation_map_data.cpp

[deployment]
Type:       srcfiles
Files:      src/boards/DeathStack/DeploymentController/DeploymentController.cpp

[pinhandler]
Type:       srcfiles
Files:      src/boards/DeathStack/PinHandler/PinHandler.cpp

[fmm]
Type:       srcfiles
Files:      src/boards/DeathStack/FlightModeManager/FlightModeManager.cpp

[sensors]
Type:       srcfiles
Files:      src/boards/DeathStack/Sensors/BMX160Calibrator.cpp
            skyward-boardcore/src/shared/sensors/calibration/SensorDataExtra.cpp

[tmtc]
Type:       srcfiles
Files:      src/boards/DeathStack/Radio/TCHandler.cpp
            src/boards/DeathStack/Radio/TMTCManager.cpp

[aldeeran]
Type:       srcfiles
Files:      src/boards/Ignition/IgnitionManager.cpp

[logservice]
Type:       srcfiles
Files:      src/boards/DeathStack/Radio/TmRepository.cpp

[ada-test-sources]
Type:       srcfiles
Files:      src/tests/catch/ada/ada_kalman_p/test-ada-data.cpp
            src/boards/DeathStack/ADA/DeploymentUtils/generated/tests/elevation_map_test_data.cpp

[kalman-test-sources]
Type:       srcfiles
Files:      src/tests/catch/ada/kalman_acc/test-kalman-acc-data.cpp

[mock-sensors-data]
Type:       srcfiles
Files:      src/tests/mock_sensors/test-mock-data.cpp

[hermes-tests]
Type:       srcfiles
Files:      src/tests/catch/fsm/test-ada.cpp

[ram-test]
Type:       srcfiles
Files:      src/tests/ram_test/sha1.cpp

[evt-functions]
Type:       srcfiles
Files:      src/boards/DeathStack/events/EventStrings.cpp

[navigation-system]
Type:       srcfiles
Files:      src/boards/DeathStack/NavigationSystem/NASCalibrator.cpp
            src/boards/DeathStack/NavigationSystem/ExtendedKalmanEigen.cpp
           
#--------------------------#
#          Boards          #
#--------------------------#
# [boardname]  -> compile using './sbs -b boardname'
#     BoardId: see the list at the top of this file
#     BinName: name of the final binary (without extension!)
#     Include: a space-separated list of files, %something will be substituted
#              with the corresponding 'srcfiles'
#     Main:    name of the main file (e.g. 'foo' -> src/entrypoints/foo.cpp)

[death-stack-x-entry]
Type:       board
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    death-stack-x-entry
Libs:       fmt eigen
Include:    %shared %printlogger %math %ubloxgps %deathstack-new %logger %pwm %hbridge %spi %xbee %servo %sensormanager %ads1118 %bmx160 %internal-adc
Defines:    -DDEBUG
Main:       death-stack-x-entry

[death-stack-x-testsuite]
Type:       board
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    death-stack-x-testsuite
Libs:       fmt
Include:    %shared %printlogger %internal-adc %pwm %hbridge %test-utils %servo %spi %ubloxgps %ads1118 %bmx160 %pinhandler %logger %logservice
Defines:    -DDEBUG
Main:       death-stack-x-testsuite

# [death-stack-entry]
# Type:       board
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    death-stack-entry
# Include:    %shared %deathstack %logger %pwm %hbridge %spi %xbee %piksi %servo
# Defines:    -DDEATH_STACK_1
# Main:       death-stack-entry

# [death-stack-testsuite]
# Type:       board
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    death-stack-testsuite
# Include:    %shared %deathstack %logger %pwm %xbee %piksi %servo
# Defines:    -DDEATH_STACK_1
# Main:       death-stack-testsuite

# [windtunnel-entry]
# Type:       board
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    windtunnel-entry
# Include:    %shared %deathstack-new %logger %pwm %hbridge %spi %xbee %servo %sensormanager %ads1118
# Defines:    
# Main:       windtunnel-entry

[calibration-entry]
Type:       board
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    calibration-entry
Include:    %shared %spi %sensors %bmx160
Defines:    -DEIGEN_MAX_ALIGN_BYTES=0
Main:       calibration-entry 

# [hil-entry]
# Type:       board
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    hil-entry
# Include:    %shared %sensormanager %fmm %pinhandler %pwm %servo %ada %navigation-system %math %logger %logservice  %deployment %hbridge
# Defines:    -DHARDWARE_IN_THE_LOOP -DDEBUG
# Main:       hardware_in_the_loop/hil-entry

#--------------------------#
#          Tests           #
#--------------------------#
# [testname]   -> compile using './sbs -b testname'
#     BoardId: see the list at the top of this file
#     BinName: name of the final binary (without extension!)
#     Include: a space-separated list of files, %something will be substituted
#              with the corresponding 'srcfiles'
#     Main:    name of the main file (e.g. 'foo' -> src/tests/foo.cpp)

# [catch-tests-entry]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    catch-tests-entry
# Include:    %shared %deathstack %logger %pwm %xbee %piksi %servo %hermes-tests %ada-test-sources %mock-sensors-data
# Defines:    -DDEATH_STACK_1
# Main:       catch/catch-tests-entry

## Driver tests

# [test-imus]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-imus
# Include:    %shared %sensors %logger 
# Defines:    -DDEATH_STACK_1
# Main:       drivers/test-imus

[test-cutter]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-cutter
Include:    %pwm %hbridge %internal-adc %shared
Defines:    -DDEBUG
Main:       drivers/test-cutter

# [test-mavlink]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-mavlink
# Include:    %shared %spi %tmtc %logger  %xbee %logservice
# Defines:    -DDEBUG -DTRACE_EVENTS -DDEATH_STACK_1
# Main:       drivers/test-mavlink

[ledwave]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    ledwave
Include:    %shared
Defines:    -DDEBUG
Main:       ledwave

[ramtest]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    ramtest
Include:    %ram-test
Defines:    -D__ENABLE_XRAM
Main:       ram_test/ramtest

# [test-motor]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-motor
# Include:    %shared %deployment %pwm %servo
# Defines:
# Main:       drivers/test-motor

[test-servo]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-servo
Include:    %shared %servo %pwm %logger %logservice
Defines:
Main:       drivers/test-servo

[test-hse]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-hse
Include:    
Defines:
Main:       test-hse

# [test-all-sensors]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-all-sensors
# Include:    %shared %logger %piksi
# Defines:    -DDEATH_STACK_1
# Main:       drivers/test-all-sensors

# [test-pressure-calib]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-pressure-calib
# Include:    %shared %logger %piksi
# Defines:    -DDEATH_STACK_1
# Main:       drivers/test-pressure-calib

## Component tests

# Cant use this as it is since the DeathStack singleton is required for handling messages in the TCHandler class
# [test-tmtc]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-tmtc
# Include:    %shared %tmtc %logger  %xbee %evt-functions %logproxy
# Defines:    -DDEBUG -DTRACE_EVENTS
# Main:       test-tmtc

# [test-canproxy]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-canproxy
# Include:    %shared %canproxy %logger  %canbus
# Defines:    -DDEBUG
# Main:       test-canproxy

[test-pinhandler]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-pinhandler
Include:    %shared %pinhandler %logger %logservice
Defines:    -DDEBUG
Main:       test-pinhandler

# [test-logproxy]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-logproxy
# Include:    %shared %logger  %logservice
# Defines:    -DDEBUG -DDEATH_STACK_1
# Main:       test-logproxy

# [test-sensormanager]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-sensormanager
# Include:    %shared %sensors %logger  %piksi %logservice %ada-test-sources
# Defines:    -DDEBUG -USE_MOCK_SENSORS -DDEATH_STACK_1
# Main:       test-sensormanager

[test-correction-bmx160]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-correction-bmx160
Include:    %shared %sensors %logger %spi %bmx160
Defines:    -DDEBUG
Main:       calibration/test-correction-bmx160

[test-correction-params]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-correction-params
Include:    %shared %sensors 
Defines:    -DDEBUG
Main:       calibration/test-correction-params

#Cant use this as it is since the DeathStack singleton is required for handling messages in the TCHandler class
# [test-sm+tmtc]
# Type:       test
# BoardId:    st %adam32f429zi_skyward_death_stack
# BinName:    test-sm+tmtc
# Include:    %shared %sensors %logger %logservice  %ada %piksi %tmtc %xbee %evt-functions %ada-test-sources
# Defines:    -DDEBUG -DDEATH_STACK_1
# Main:       test-sm+tmtc

[test-fmm]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-fmm
Include:    %shared %logger  %logservice %evt-functions %fmm
Defines:    -DSTANDALONE_CATCH1_TEST
Main:       catch/fsm/test-fmm

[test-fmm-interactive]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-fmm-interactive
Include:    %deployment %shared %logger  %logservice %evt-functions %fmm %pwm %servo
Defines:    -DDEBUG
Main:       test-fmm-interactive

#[test-homeone]
#Type:       test
#BoardId:    stm32f429zi_stm32f4discovery
#BinName:    test-homeone
#Include:    %shared
#Defines:    -DDEBUG
#Main:       test-homeone

## FSM tests

[test-ada]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-ada
Include:    %shared %ada %test-utils %ada-test-sources %mock-sensors-data %logger %logservice %printlogger
Defines:    -DSTANDALONE_CATCH1_TEST -DDEBUG
Libs:       fmt
Main:       catch/fsm/test-ada

[test-ada-simulation]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-ada-simulation
Include:    %shared %ada %ada-test-sources %logger %logservice %spi %printlogger
Defines:    -DDEBUG -DSTANDALONE_CATCH1_TEST
Libs:       fmt
Main:       catch/ada/ada_kalman_p/test-ada-simulation

[test-ada-dpl-simulation]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-ada-dpl-simulation
Include:    %shared %ada %ada-test-sources %logger %logservice %pwm %servo %deployment %hbridge %pinhandler %printlogger
Defines:    -DDEBUG
Libs:       fmt
Main:       test-ada-dpl-simulation

[test-nas]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-nas
Include:    %shared %navigation-system %test-utils %mock-sensors-data %math %logservice %logger
Defines:    -DSTANDALONE_CATCH1_TEST -DDEBUG
Main:       catch/fsm/test-nas

[test-nas-simulation]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-nas-simulation
Include:    %shared %navigation-system %mock-sensors-data %math %sensormanager %logservice %logger
Defines:    -DSTANDALONE_CATCH1_TEST -DDEBUG
Main:       catch/nas/test-nas-simulation

# [test-ignition]
# Type: testada_controller
# BoardId: stm32f429zi_skyward_death_stack_x
# BinName: test-ignition
# Include:  %shared %ignition %logger  %canbus %canproxy %test-utils
# Defines: -DSTANDALONE_CATCH1_TEST
# Main: catch/fsm/test-ignition
#
# [test-fmm]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-fmm
# Include:    %shared %logger  %test-utils %fmm
# Defines:    -DSTANDALONE_CATCH1_TEST
# Main:       catch/fsm/test-fmm

# HIL testing algorithms

[test-SerialInterface]
Type:       test
BoardId:    stm32f407vg_stm32f4discovery
BinName:    test-SerialInterface
Include:    %shared
Defines:    -DHIL_SERIALINTERFACE -DDEBUG
Main:       hardware_in_the_loop/test-SerialInterface/test-SerialInterface

# [test-HIL]
# Type:       test
# BoardId:    stm32f407vg_stm32f4discovery
# BinName:    test-HIL
# Include:    %shared %sensormanager %servo %pwm
# Defines:    -DHIL -DDEBUG
# Main:       hardware_in_the_loop/test-HIL/test-HIL

# [test-HIL+Aerobrake]
# Type:       test
# BoardId:    stm32f407vg_stm32f4discovery
# BinName:    test-HIL+Aerobrake
# Include:    %shared %sensormanager 
# Defines:    -DHIL_AEROBRAKE -DDEBUG
# Main:       hardware_in_the_loop/test-HIL+Aerobrake/test-HIL+Aerobrake

# [test-HIL+AerobrakeController]
# Type:       test
# BoardId:    stm32f407vg_stm32f4discovery
# BinName:    test-HIL+AerobrakeController
# Include:    %shared %sensormanager 
# Defines:    -DHIL_AEROBRAKE -DDEBUG
# Main:       hardware_in_the_loop/test-HIL+AerobrakeController/test-HIL+AerobrakeController

# [test-HIL+ADA]
# Type:       test
# BoardId:    stm32f429zi_skyward_death_stack_x
# BinName:    test-HIL+ADA
# Include:    %shared %sensormanager %ada %ada-test-sources %logger %logservice 
# Defines:    -DHIL_ADA -DDEBUG
# Main:       hardware_in_the_loop/test-HIL+ADA/test-HIL+ADA

# [test-HIL+ADA+Aerobrake]
# Type:       test
# BoardId:    stm32f407vg_stm32f4discovery
# BinName:    test-HIL+ADA+Aerobrake
# Include:    %shared %sensormanager %ada %ada-test-sources %logger %logservice 
# Defines:    -DHIL_ADA_AEROBRAKE -DDEBUG
# Main:       hardware_in_the_loop/test-HIL+ADA+Aerobrake/test-HIL+ADA+Aerobrake

# [test-HIL+ADA+AerobrakeController+nas]
# Type:       test
# BoardId:    stm32f429zi_stm32f4discovery
# BinName:    test-HIL+ADA+AerobrakeController+nas
# Include:    %shared %sensormanager %ada %ada-test-sources %logger %logservice  %navigation-system %math
# Defines:    -DHIL_ADA_AEROBRAKECONTROLLER_NAS -DDEBUG
# Main:       hardware_in_the_loop/test-HIL+ADA+AerobrakeController+nas/test-HIL+ADA+AerobrakeController+nas

# [eigen-test]
# Type:       test
# BoardId:    stm32f429zi_stm32f4discovery
# BinName:    eigen-test
# Include:    %shared
# Defines:    -DDEBUG
# Main:       eigen-test

[test-mock-sensors]
Type:       test
BoardId:    stm32f429zi_stm32f4discovery
BinName:    test-mock-sensors
Include:    %shared %mock-sensors-data
Defines:    -DDEBUG
Main:       mock_sensors/test-mock-sensors

[test-deployment]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-deployment
Include:    %shared %test-utils %pwm %servo %deployment %hbridge %logger %logservice
Defines:    -DSTANDALONE_CATCH1_TEST
Main:       catch/fsm/test-deployment

[test-deployment-interactive]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-deployment-interactive
Include:    %shared %test-utils %pwm %servo %deployment %hbridge %logger %logservice
Defines:    -DSTANDALONE_CATCH1_TEST -DDEBUG
Main:       deployment/test-deployment-interactive

[test-aerobrakes]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-aerobrakes
Include:    %shared %test-utils %pwm %servo %logger %logservice %printlogger
Defines:    -DSTANDALONE_CATCH1_TEST
Libs:       fmt
Main:       catch/fsm/test-aerobrakes

[test-aerobrakes-interactive]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-aerobrakes-interactive
Include:    %shared %test-utils %pwm %servo %logger %logservice %printlogger
Defines:    -DDEBUG
Libs:       fmt
Main:       aerobrakes/test-aerobrakes-interactive

[test-aerobrakes-algorithm]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-aerobrakes-algorithm
Include:    %shared %servo %pwm %logger %logservice %printlogger
Defines:    -DDEBUG
Libs:       fmt
Main:       aerobrakes/test-aerobrakes-algorithm

# Comprehensive DeathStackX tests

[test-power-board]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-power-board
Include:    %shared %internal-adc %pwm %hbridge %test-utils %servo %logger %logservice
Defines:    -DDEBUG
Main:       deathstack-boards/test-power-board

[test-stm-board]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-stm-board
Include:    %shared
Defines:    -DDEBUG
Main:       deathstack-boards/test-stm-board

[test-rf-board]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-rf-board
Include:    %shared %spi %ubloxgps %bmx160
Defines:    -DDEBUG
Main:       deathstack-boards/test-rf-board

[test-analog-board]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-analog-board
Include:    %shared %spi %ads1118 %pinhandler %logger %logservice
Defines:    -DDEBUG
Main:       deathstack-boards/test-analog-board

[test-death-stack-x]
Type:       test
BoardId:    stm32f429zi_skyward_death_stack_x
BinName:    test-death-stack-x
Include:    %shared %internal-adc %pwm %hbridge %test-utils %servo %spi %ubloxgps %ads1118 %bmx160 %pinhandler %logger %logservice
Defines:    -DDEBUG
Main:       test-death-stack-x
